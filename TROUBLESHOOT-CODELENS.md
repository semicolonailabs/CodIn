#!/bin/bash

echo "ðŸš¨ TROUBLESHOOTING GUIDE: CodeLens Not Showing"
echo "=============================================="
echo ""

echo "ðŸ“‹ STEP 1: Install Updated Extension"
echo "1. Open VS Code"
echo "2. Press Cmd+Shift+P â†’ Type 'Extensions: Install from VSIX'"
echo "3. Select the codin-1.0.1.vsix file from your Desktop/CodIn folder"
echo "4. Click 'Install'"
echo ""

echo "ðŸ“‹ STEP 2: Enable CodeLens in VS Code Settings"
echo "1. Press Cmd+, to open Settings"
echo "2. Search for 'editor.codeLens'"
echo "3. Make sure 'Editor: Code Lens' is CHECKED âœ…"
echo "4. Search for 'codin' and enable all CodIn settings"
echo ""

echo "ðŸ“‹ STEP 3: Reload VS Code Window"
echo "1. Press Cmd+Shift+P"
echo "2. Type 'Developer: Reload Window'"
echo "3. Press Enter"
echo ""

echo "ðŸ“‹ STEP 4: Test the Features"
echo "1. Open factorial.py"
echo "2. SELECT some code (highlight it)"
echo "3. Look for:"
echo "   â€¢ ðŸ¤– Floating button above selection (CodeLens)"
echo "   â€¢ ðŸ’¡ Lightbulb icon (Quick Actions)"
echo "   â€¢ Right-click menu option"
echo ""

echo "ðŸ“‹ STEP 5: Check Developer Console (if still not working)"
echo "1. Press Cmd+Option+I to open Developer Tools"
echo "2. Look for any error messages in the Console tab"
echo "3. Check if extension is loaded properly"
echo ""

echo "ðŸŽ¯ IMPORTANT NOTES:"
echo "â€¢ CodeLens only appears when code is SELECTED"
echo "â€¢ Make sure 'editor.codeLens' is enabled in VS Code"
echo "â€¢ The floating button appears ABOVE the selected text"
echo "â€¢ Try selecting different parts of code"
echo ""

echo "ðŸ”§ MANUAL INSTALL INSTRUCTIONS:"
echo "If the command line install doesn't work:"
echo "1. Open VS Code"
echo "2. Go to Extensions panel (Cmd+Shift+X)"
echo "3. Click the '...' menu (three dots)"
echo "4. Select 'Install from VSIX...'"
echo "5. Choose codin-1.0.1.vsix from your Desktop/CodIn folder"
echo ""

echo "ðŸ’¡ TESTING TIP:"
echo "Select this exact code in factorial.py and you should see buttons:"
echo ""
echo "def calculate_factorial(n):"
echo "    if n < 0:"
echo "        raise ValueError('Factorial is not defined for negative numbers')"
echo ""

echo "ðŸŽ‰ If you see the floating button, it's working!"
